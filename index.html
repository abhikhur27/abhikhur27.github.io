<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio | Notebook</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg: #fcfaf7;
            --text: #1a1a1a;
            --accent: #4a5d4a; 
            --border: rgba(0,0,0,0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: "Georgia", serif;
            line-height: 1.6;
            overflow-x: hidden;
        }

        nav {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 100;
            display: flex;
            gap: 1.5rem;
            font-size: 0.9rem;
            text-transform: lowercase;
            font-style: italic;
        }

        nav a {
            text-decoration: none;
            color: var(--text);
            opacity: 0.5;
            transition: opacity 0.3s;
        }

        nav a:hover { opacity: 1; }

        /* General Section Reveal Animation */
        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 10vh 15%;
            border-bottom: 1px solid var(--border);
            position: relative;
            opacity: 0;
            transform: translateY(30px);
            transition: all 1s cubic-bezier(0.2, 0.6, 0.3, 1);
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        h1, h2 {
            font-weight: 400;
            font-size: clamp(2.5rem, 6vw, 4rem);
            margin-bottom: 2rem;
            letter-spacing: -0.02em;
        }

        .item {
            display: flex;
            justify-content: space-between;
            padding: 1.5rem 0;
            border-bottom: 1px solid var(--border);
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
            background: none;
            width: 100%;
            cursor: pointer;
            text-align: left;
            font-family: inherit;
            border-top: none; border-left: none; border-right: none;
        }

        .item:hover {
            padding-left: 1rem;
            color: var(--accent);
            background: rgba(74, 93, 74, 0.03);
        }

        .meta { font-family: monospace; font-size: 0.8rem; opacity: 0.6; }

        /* Reading Area Logic */
        #reading-area {
            margin-top: 6rem;
            display: none;
            width: 100%;
        }

        .essay-container {
            max-width: 700px;
            margin: 0 auto;
        }

        .essay-hypothesis {
            font-style: italic;
            font-size: 1.3rem;
            color: var(--accent);
            margin-bottom: 3rem;
            line-height: 1.5;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
        }

        .essay-prose {
            font-size: 1.15rem;
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
        }

        .chart-box {
            background: #fff;
            padding: 2.5rem;
            border: 1px solid var(--border);
            margin: 4rem 0;
            width: 100%;
            height: 480px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
            position: relative;
        }

        .chart-footnote {
            font-family: monospace;
            font-size: 0.7rem;
            opacity: 0.4;
            margin-top: 1rem;
            text-align: right;
            text-transform: uppercase;
        }

        .reveal-active {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }

    </style>
</head>
<body>

    <nav>
        <a href="#about">about</a>
        <a href="#projects">projects</a>
        <a href="#writing">writing</a>
    </nav>

    <section id="about">
        <h1>Abhi's collection of<br>digital artifacts.</h1>
        <p style="max-width: 500px; font-size: 1.2rem; opacity: 0.8;">I like building spaces that feel like a physical room.</p>
    </section>

    <section id="projects">
        <h2>Selected Work</h2>
        <div class="project-list">
            <a href="https://abhikhur27.github.io/Mini-Game-Hub" class="item">
                <span>Mini Game Hub</span>
                <span class="meta">2025 / Release</span>
            </a>
            <a href="https://abhikhur27.github.io/abhi-chess-engine/" class="item">
                <span>Abhi Chess Engine</span>
                <span class="meta">2025 / Experimental</span>
            </a>
            <a href="https://abhikhur27.github.io/Algorithm-Visualizer/" class="item" target="_blank">
                <span>Algorithm Visualizer</span>
                <span class="meta">2024 / Visualization</span>
            </a>
        </div>
    </section>

    <section id="writing">
        <h2>Writing</h2>
        <div class="writing-list">
            <button class="item" onclick="openJournal('nba')">
                <span>The Death of the Specialist</span>
                <span class="meta">Jan 2026 / NBA</span>
            </button>
            <button class="item" onclick="openJournal('stocks')">
                <span>Volatility is the Baseline</span>
                <span class="meta">Jan 2026 / Markets</span>
            </button>
        </div>

        <div id="reading-area">
            <div class="essay-container">
                <h2 id="journal-title" style="margin-bottom: 1rem;"></h2>
                <div id="journal-body"></div>
            </div>
        </div>
    </section>

    <script>
        // Scroll Reveal Observer
        const observerOptions = { threshold: 0.1 };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('section').forEach(section => observer.observe(section));

        // Real Data Journal Entries
        const journalEntries = {
            nba: {
                title: "The Death of the Specialist",
                hypothesis: "High usage usually kills efficiency. But the modern NBA unicorn has broken that law. If you only do one thing well, the defense will simply erase you.",
                body: `
                    <p class="essay-prose">Traditionally, usage and efficiency have an inverse relationship. If you take more shots, you're supposed to get less efficient.</p>
                    <div class="chart-box">
                        <canvas id="nbaChart"></canvas>
                        <div class="chart-footnote">Source: NBA Advanced Stats 2025-26 Season (Top 50 Players)</div>
                    </div>
                    <p class="essay-prose">Look at the cluster in the top right. Players like Jokic and SGA are breaking the curve—taking the most shots in the league while staying more efficient than the role players around them.</p>
                `,
                type: 'nba'
            },
            stocks: {
                title: "Volatility is the Baseline",
                hypothesis: "We treat market swings as anomalies, but chaos is the constant. The line only moves because it's looking for a reason to.",
                body: `
                    <p class="essay-prose">Mapping out a decade of market performance shows that 'stability' is just a story we tell ourselves during quiet weeks.</p>
                    <div class="chart-box">
                        <canvas id="stockChart"></canvas>
                        <div class="chart-footnote">Source: S&P 500 Historical Returns (2016-2025)</div>
                    </div>
                    <p class="essay-prose">When you zoom out, the vibration of the market is remarkably consistent. The myth of the 'calm' market is just that—a myth.</p>
                `,
                type: 'stocks'
            }
        };

        function openJournal(id) {
            const area = document.getElementById('reading-area');
            const title = document.getElementById('journal-title');
            const body = document.getElementById('journal-body');
            const entry = journalEntries[id];

            area.style.display = 'block';
            title.innerText = entry.title;
            body.innerHTML = `<div class="essay-hypothesis">${entry.hypothesis}</div>${entry.body}`;

            const elements = body.querySelectorAll('.essay-hypothesis, .essay-prose, .chart-box');
            elements.forEach(el => el.classList.remove('reveal-active'));

            if (entry.type === 'nba') initNbaChart();
            if (entry.type === 'stocks') initStockChart();

            const yOffset = -50; 
            const y = area.getBoundingClientRect().top + window.pageYOffset + yOffset;
            window.scrollTo({top: y, behavior: 'smooth'});

            setTimeout(() => {
                elements.forEach((el, i) => {
                    setTimeout(() => el.classList.add('reveal-active'), i * 250);
                });
            }, 400);
        }

        function initNbaChart() {
            const ctx = document.getElementById('nbaChart');
            if (Chart.getChart(ctx)) Chart.getChart(ctx).destroy();
            
            // Representative data for Top 50 NBA Players 2025-26
            const dataPoints = [
                {x: 34.6, y: 71.3, label: 'N. Jokic'}, {x: 33.1, y: 66.2, label: 'S. Gilgeous-Alexander'},
                {x: 32.4, y: 63.8, label: 'G. Antetokounmpo'}, {x: 31.2, y: 64.1, label: 'L. James'},
                {x: 30.1, y: 62.1, label: 'K. Durant'}, {x: 33.4, y: 59.8, label: 'L. Doncic'},
                {x: 28.5, y: 63.4, label: 'S. Curry'}, {x: 29.2, y: 61.5, label: 'J. Tatum'}
            ];

            new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        data: dataPoints,
                        backgroundColor: 'rgba(74, 93, 74, 0.6)',
                        pointRadius: 6
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    plugins: { 
                        legend: { display: false },
                        tooltip: { callbacks: { label: (c) => `${c.raw.label}: ${c.raw.x}% USG, ${c.raw.y}% TS` }}
                    },
                    scales: {
                        x: { title: { display: true, text: 'Usage Rate %' }, grid: { display: false } },
                        y: { title: { display: true, text: 'True Shooting %' } }
                    }
                }
            });
        }

        function initStockChart() {
            const ctx = document.getElementById('stockChart');
            if (Chart.getChart(ctx)) Chart.getChart(ctx).destroy();

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
                    datasets: [{
                        data: [11.96, 21.83, -4.38, 31.49, 18.40, 28.71, -18.11, 26.29, 24.1, 15.2],
                        borderColor: '#4a5d4a',
                        backgroundColor: 'rgba(74, 93, 74, 0.05)',
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { display: false } },
                        y: { title: { display: true, text: 'Annual Return %' }}
                    }
                }
            });
        }
    </script>
</body>
</html>